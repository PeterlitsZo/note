type: note
init_time: '2020-03-02 13:43:23.543056'
parents:
- d7c97fb962ebeec3827179ecd2471c7720a8d86d
title: cf's 1321B problem
text: "在昨天的cf竞赛中，我又挂在了B题，原题是这样的：\n有人想要去旅行，每个城市都有相应的数值，\n并且第$i$个城市的数值为$d_i$，当且仅当第$j$座城市的数值满足\n\
  $b_j-b_i=j-i$时，她才可以从城市$i$走到城市$b$中。\n\n我一开始这么想的：点，路，有价值，这不就是有权图的最长路径问题吗？\n一种有向无环图的最长路程是具有最优子结构的，无论自底向上还是至顶向下，\n\
  都是可以满足动态规划的。\n\n我于是刷刷的写完了，虽然途中遇上了几个\\code{core dumped}说是下标溢出了，\n但是还是找到错误并且搞好了。\n\
  \n但是罕见的遇上了\\code{memory limit exceeded}，\n其实我现在还是感觉很奇怪的，因为怎么想就只是需要用$O(n^2)$的复杂而已，\n\
  还主要是因为储存图才这样子。\n\n但是昨天于立恒跟我说了他的思路的时候，我感到柳暗花明又一村，\n发现当且仅当$b_j-j=b_i-i$的时候才会有两个城市可以连接在一起。\n\
  \n所以说最好的方法就是建立一个$map$，当$b_n-n=C$时，让$map_C$\n增加$b_n$。而$map$中最大的值也就是这道题的答案。\n"
